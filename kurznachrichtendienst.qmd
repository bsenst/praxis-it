# Kurznachrichtendienst

## Kommunikation zwischen PatientInnen & Behandelnden

Die Kurznachrichtendienste zur Kommunikation zwischen PatientInnen und ÄrztInnen bieten sich verschiedene Möglichkeiten, können drei Gruppen zugeordnet werden. Diese Gruppe bieten ähnliche Funktionen unterscheiden sich aber in ihrer Historie, technischen Spezifikation und Sicherheitseigenschaft.

1. **PVS-integrierter Messenger**:
   - **Tomedo: Arzt direkt** - Diese Lösung ermöglicht eine direkte und sichere Kommunikation direkt innerhalb des PVS.
   - **T2med: Patmed** - Eine weitere Option, die speziell für die Kommunikation zwischen Patienten und Ärzten innerhalb des T2med-Systems entwickelt wurde.

2. **Externe Apps**:
   - **Monks Praxis App** - Diese App ist über den Google Play Store verfügbar und bietet eine benutzerfreundliche Oberfläche für die Kommunikation, unabhängig vom PVS.

3. **TI-Messenger**:
   - Ab Sommer 2025 wird der **TI-Messenger ePA** eine weitere Option sein, der für sichere und sektorenübergreifende Kommunikation zwischen Leistungserbringern und Patienten entwickelt wurde. [@gematik-ti-messenger]
  
## Matrix Protokoll

Das Matrix-Protokoll ist ein offenes Standardprotokoll für dezentrale, sichere Kommunikation im Internet, das sowohl für Chat- als auch für Voip-Kommunikation genutzt werden kann. In Deutschland hat die Telematikinfrastruktur (TI), die für die Digitalisierung des Gesundheitswesens verantwortlich ist, das Matrix-Protokoll zur Grundlage für den TI-Messenger gemacht. Der TI-Messenger ermöglicht eine sichere und interoperable Kommunikation zwischen verschiedenen Akteuren im Gesundheitswesen, wie Ärzten, Apotheken und Krankenkassen. Er basiert auf Matrix, um eine Ende-zu-Ende-Verschlüsselung zu gewährleisten und die Integration in bestehende Systeme zu erleichtern.

## Übersichtstabelle

|    | Software            | Anbieter                | URL                |
|---:|:--------------------|:------------------------|:-------------------|
|  0 | Siilo               | Doctolib | [siilo.com](https://www.siilo.com/)          |
|  1 | AKQUINET TIM | Akquinet AG             | [akquinet.com](https://akquinet.com/gesundheitswesen/tim.html)   |
|  2 | AMP.chat | Awesome Technologies GmbH| [awesome-technologies.de](https://awesome-technologies.de/ti-messenger-awesome-technologies) |
|  3 | Famedly             | Famedly GmbH            | [famedly.com](https://www.famedly.com/)      |
|  4 | Gedisa              | Gedisa GmbH             | [gedisa.de](https://www.gedisa.de/)          |
|  5 | samedi              | samedi GmbH             | [samedi.de](https://www.samedi.de/)          |
|  6 | x-tention           | x-tention GmbH          | [x-tention.de](https://www.x-tention.de/)    |
|  7 | Threema             | Threema GmbH            | [threema.ch](https://threema.ch/de)          |
|  8 | CONSIL!UM                       | Consilium GmbH          | [CONSIL!UM](https://www.consilium-med.de/) |
|  9 | Teamwire                        | Teamwire GmbH           | [Teamwire](https://teamwire.eu/en/) |
| 10 | LifeTime                        | LifeTime GmbH           | [LifeTime](https://lifetime.eu/) |

: Kurznachrichtendienste Anbieter {#tbl-kurznachrichtendienste-anbieter}

Quelle: u.a. [@gematik-ti-messenger]

## Sicherheit Nachrichtenverkehr

### Vergleich von Instant-Messaging-Diensten

Instant-Messaging-Dienste wie Signal und Threema setzen verschiedene Sicherheitsmaßnahmen ein, um die Kommunikation der Nutzer zu schützen. Signal bietet eine End-to-End-Verschlüsselung (E2EE) für alle Kommunikationen, Vorwärts-Sicherheit, und verwendet starke kryptographische Methoden wie Curve25519 und AES-CBC. Threema hingegen behauptet ebenfalls E2EE, jedoch nur mit Vorwärts-Sicherheit auf Client-Server-Ebene und ohne E2EE-Forward-Secrecy, was die Nutzung langfristiger Schlüssel problematisch macht. Beide Dienste sind sicherer als WhatsApp, wobei Signal im Vergleich zu Telegram und Threema die stärksten Sicherheitsgarantien bietet, während Threema zwischen Telegram und Signal rangiert, mit Schwächen in der Sicherheit, insbesondere bei der Abwehr von Replay-, Reflection- und Reordering-Angriffen. [@rosler2018more;@son2022forensic;@truong2022breaking;@boschinisecure;@bruckner2023reverse;@paterson2023three]

### Vorwärts-Sicherheit

Vorwärts-Sicherheit (Perfect Forward Secrecy) ist ein Konzept in der Kryptographie, das besagt, dass die Kompromittierung eines Schlüssels in der Gegenwart nicht dazu führt, dass vergangene Kommunikation entschlüsselt werden kann. Das wird durch die Verwendung von Sitzungsschlüsseln erreicht, die für jede Kommunikationssitzung neu generiert werden und nach deren Beendigung verworfen werden. Diese temporären Schlüssel sind unabhängig von langfristigen Schlüsseln, wodurch sichergestellt wird, dass selbst wenn ein langfristiger Schlüssel kompromittiert wird, vergangene Sitzungen sicher bleiben. 

Signal implementiert diese Sicherheitseigenschaft, indem es für jede Kommunikation eine neue Schlüsselpaarung generiert und diese nach der Sitzung löscht. Threema hingegen bietet diese Eigenschaft nur auf der Client-Server-Ebene, was bedeutet, dass die Vorwärts-Sicherheit in Bezug auf die End-to-End-Verschlüsselung nicht vollständig gegeben ist.

### Replay-, Reflection- und Reordering-Angriffe

Bei einem Replay-Angriff fängt ein Angreifer eine legitime Nachricht ab und sendet sie später erneut, um eine unerwünschte Handlung auszulösen oder eine Aktion zu wiederholen, die bereits einmal autorisiert wurde. Zum Beispiel könnte ein Angreifer eine abgefangene Authentifizierungsanfrage wieder abspielen, um sich als berechtigter Benutzer auszugeben. Maßnahmen gegen Replay-Angriffe umfassen oft die Verwendung von Nonce (Nummer, die nur einmal verwendet wird) oder Zeitstempel.

In einem Reflection-Angriff nutzt der Angreifer die Struktur einer Nachricht, um sie zurück an den Absender zu spiegeln, oft in der Hoffnung, dass der Absender die eigene Nachricht als gültig akzeptiert. Dies könnte dazu führen, dass der Absender eine Aktion ausführt, die er nicht beabsichtigt hat, oder dass er eine Nachricht als gültig bestätigt, die er selbst gesendet hat. Eine Abwehrstrategie besteht darin, Nachrichten so zu gestalten, dass sie von der Quelle eindeutig unterscheidbar sind, zum Beispiel durch die Verwendung von unterschiedlichen Nonce oder Schlüsseln für Anfragen und Antworten.

Bei einem Reordering-Angriff werden Nachrichten, die in einer bestimmten Reihenfolge gesendet wurden, von einem Angreifer umgeordert und dann weitergeleitet. Dies kann dazu führen, dass die Empfänger eine falsche Abfolge von Ereignissen wahrnehmen oder dass Abhängigkeiten in der Nachrichtenverarbeitung gestört werden. Um dies zu verhindern, können Sequenznummern oder andere Mechanismen zur Nachverfolgung der Reihenfolge implementiert werden, die sicherstellen, dass Nachrichten in der richtigen Reihenfolge verarbeitet werden.

Diese Angriffe zielen darauf ab, die Sicherheitsprotokolle zu umgehen, die auf der Annahme basieren, dass Nachrichten in einer sicheren, unveränderten und chronologisch korrekten Reihenfolge empfangen werden.

### End-to-End-Verschlüsselung (E2EE)

End-to-End-Verschlüsselung (E2EE) bezeichnet eine Methode der Datensicherheit, bei der Daten, die zwischen zwei Parteien ausgetauscht werden, nur von diesen beiden Parteien entschlüsselt und gelesen werden können.

E2EE erfordert, dass die Schlüssel zwischen den Kommunikationspartnern sicher ausgetauscht oder generiert werden. Dies kann durch Protokolle wie Diffie-Hellman-Schlüsselaustausch oder durch die Verwendung von Public-Key-Kryptographie geschehen.
